<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>specless.automaton.mps.BMPS_exact &#8212; specless 0.0.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <script src="../_static/documentation_options.js?v=e3a6060d"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="specless.automaton.mps.BMPS_search_step" href="specless.automaton.mps.BMPS_search_step.html" />
    <link rel="prev" title="specless.automaton.mps" href="specless.automaton.mps.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="specless-automaton-mps-bmps-exact">
<h1>specless.automaton.mps.BMPS_exact<a class="headerlink" href="#specless-automaton-mps-bmps-exact" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="specless.automaton.mps.BMPS_exact">
<span class="sig-prename descclassname"><span class="pre">specless.automaton.mps.</span></span><span class="sig-name descname"><span class="pre">BMPS_exact</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">F</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_string_prob</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_string_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_strings_to_find</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth_first</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_entropy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_pbar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Hashable</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Hashable</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/specless/automaton/mps.html#BMPS_exact"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#specless.automaton.mps.BMPS_exact" title="Link to this definition">¶</a></dt>
<dd><p>Finds the bounded, most probable string(s) (MPS) in a stochastically
weighted finite automaton (SWFA).</p>
<p>Automaton MUST have edge weights as transition probabilities, but the
outgoing transition weights don’t necessarily need to add up to 1, i.e. the
transition matrices don’t need to be formal Stochastic Matrices.</p>
<p>This is useful if the automaton is a product, and thus its MPS can be
projected onto its constituent automaton and have the same probability in
its constituent automaton.</p>
<p>Will default to return only the MOST probable, viable string thus far, but
this algorithm generalizes to return the num_strings_to_find viable
strings, decreasingly sorted by their probabilities.</p>
<p>Originally written as BMPS_exact in:
“The most probable string: an algorithmic study” by de la Higuera et. al</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbols</strong> – All symbol indices in the symbol map</p></li>
<li><p><strong>M</strong> – a (d x d x num_symbols) tensor containing
the probabilistically weighted (NOT
NECESSARILY stochastic) transition
matrices representing the automaton,
keyed on the third index - i.e. by symbol</p></li>
<li><p><strong>S</strong> – a (1 x d) vector containing the initial
state probabilities</p></li>
<li><p><strong>F</strong> – a (d x 1) vector containing the final
state probabilities</p></li>
<li><p><strong>d</strong> – the number of states in the automaton</p></li>
<li><p><strong>empty_symbol</strong> – The “empty” symbol</p></li>
<li><p><strong>min_string_prob</strong> – The minimum string probability</p></li>
<li><p><strong>max_string_length</strong> – The maximum string length</p></li>
<li><p><strong>num_strings_to_find</strong> – The number of viable strings to return.
Defaults to only return the ONE, highest
probability string encountered thus far
in the search, which means the algorithm
is the original BMPS_exact. If &gt;1, then
the algorithm returns the
num_strings_to_find most probable, viable
strings from the search heap.</p></li>
<li><p><strong>depth_first</strong> – Whether to explore the automaton using a
depth-first search pattern. Using a
depth-first search pattern will be faster
for very deep, tree-shaped automaton, but
will not return the absolute best symbol
sequence for the given min_string_prob
and max_string_length. Only turn on if
you have a terminal states deep in the
automaton and you need the search to be
faster.</p></li>
<li><p><strong>add_entropy</strong> – Only keeps a new viable string if it has
a previously unseen probability of being
generated</p></li>
<li><p><strong>disable_pbar</strong> – Disable pbar for speeding up the
computation speed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(most probable word in the SWFA, it’s probability,
num_strings_to_find viable strings in a max heap container)</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">specless</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="specless.html">specless</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="specless.automaton.html">specless.automaton</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="specless.automaton.base.html">specless.automaton.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="specless.automaton.dfa.html">specless.automaton.dfa</a></li>
<li class="toctree-l3"><a class="reference internal" href="specless.automaton.factory.html">specless.automaton.factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="specless.automaton.fdfa.html">specless.automaton.fdfa</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="specless.automaton.mps.html">specless.automaton.mps</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">specless.automaton.mps.BMPS_exact</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#specless.automaton.mps.BMPS_exact"><code class="docutils literal notranslate"><span class="pre">BMPS_exact()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="specless.automaton.mps.BMPS_search_step.html">specless.automaton.mps.BMPS_search_step</a></li>
<li class="toctree-l4"><a class="reference internal" href="specless.automaton.mps.SWDFA_MPS.html">specless.automaton.mps.SWDFA_MPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="specless.automaton.mps.postprocess_MPS.html">specless.automaton.mps.postprocess_MPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="specless.automaton.mps.should_use_BMPS_exact.html">specless.automaton.mps.should_use_BMPS_exact</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="specless.automaton.pdfa.html">specless.automaton.pdfa</a></li>
<li class="toctree-l3"><a class="reference internal" href="specless.automaton.product.html">specless.automaton.product</a></li>
<li class="toctree-l3"><a class="reference internal" href="specless.automaton.transition_system.html">specless.automaton.transition_system</a></li>
<li class="toctree-l3"><a class="reference internal" href="specless.automaton.types.html">specless.automaton.types</a></li>
<li class="toctree-l3"><a class="reference internal" href="specless.automaton.utils.html">specless.automaton.utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="specless.cli.html">specless.cli</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.const.html">specless.const</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.dataset.html">specless.dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.factory.html">specless.factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.inference.html">specless.inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.io.html">specless.io</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.parser.html">specless.parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.specification.html">specless.specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.specification_.html">specless.specification_</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.strategy.html">specless.strategy</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.synthesis.html">specless.synthesis</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.typing.html">specless.typing</a></li>
<li class="toctree-l2"><a class="reference internal" href="specless.wrapper.html">specless.wrapper</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="specless.html">specless</a><ul>
  <li><a href="specless.automaton.html">specless.automaton</a><ul>
  <li><a href="specless.automaton.mps.html">specless.automaton.mps</a><ul>
      <li>Previous: <a href="specless.automaton.mps.html" title="previous chapter">specless.automaton.mps</a></li>
      <li>Next: <a href="specless.automaton.mps.BMPS_search_step.html" title="next chapter">specless.automaton.mps.BMPS_search_step</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2023, Kandai Watanabe.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/_autosummary/specless.automaton.mps.BMPS_exact.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>